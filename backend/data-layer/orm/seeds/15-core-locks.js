export default {
  name: 'Core lock',
  plural: 'Core locks',
  alias: 'core_lock',
  type: 'core',
  template: 'base',
  access_script: 'p.currentUser.canAtLeastRead()',
  order: '-100',
  __lock: ['delete'],
  fields: [
    {
      name: 'Model',
      alias: 'model',
      type: 'reference',
      options: { foreign_model: 'model', foreign_label: 'name' },
      required_when_script: 'true',
      __lock: ['delete'],
    },
    {
      name: 'Record ID',
      alias: 'record_id',
      type: 'integer',
      required_when_script: 'true',
      __lock: ['delete'],
    },
    {
      name: 'Field update',
      alias: 'field_update',
      type: 'integer',
      __lock: ['delete'],
    },
    {
      name: 'Update',
      alias: 'update',
      type: 'boolean',
      options: { default: true },
      required_when_script: 'true',
      __lock: ['delete'],
    },
    {
      name: 'Delete',
      alias: 'delete',
      type: 'boolean',
      options: { default: true },
      required_when_script: 'true',
      __lock: ['delete'],
    },
  ],
  views: [
    {
      name: 'Default',
      alias: 'default',
      type: 'grid',
      condition_script: 'p.currentUser.isAdmin()',
      layout: 'Default',
      filter: 'Default',
      __lock: ['delete'],
    },
  ],
  permissions: [
    { type: 'model', action: 'create', script: 'p.currentUser.isAdmin()', __lock: ['delete'] },
    { type: 'model', action: 'update', script: 'p.currentUser.isAdmin()', __lock: ['delete'] },
    { type: 'model', action: 'delete', script: 'p.currentUser.isAdmin()', __lock: ['delete'] },
  ],
  privileges: [],
};
